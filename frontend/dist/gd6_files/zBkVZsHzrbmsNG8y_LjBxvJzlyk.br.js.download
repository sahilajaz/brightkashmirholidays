var MobileIcon;(function(){function ki(){ct()?(lt("Overlap"),h("Overlap")):ri("ResizeShow")}function ct(){return(ot===null||ot===void 0?void 0:ot.offsetWidth)-((ft===null||ft===void 0?void 0:ft.offsetWidth)+(et===null||et===void 0?void 0:et.offsetWidth)+kt)<ci}function s(){l("ClickPage");h("ClickPage")}function ti(t){t.key==="Escape"&&(y||g)&&(n&&n.focus(),l("EscapeKeydown"),h("EscapeKeydown"))}function ii(n){Log.Log("Click","MobileIconV2","GetApp");Log.Log(o,f,"ClickPanel");n.stopPropagation();_w.open(u,"blank")}function ri(t){n&&dt&&(Lib.CssClass.remove(n,"b_hide"),Log.Log(o,f,si,!1,"reason",t))}function lt(t){n&&Lib.CssClass.add(n,"b_hide");Log.Log(o,f,"HideIcon",!1,"reason",t)}function at(t){var r,i;if(!gt){di(t);return}Log.Log(o,f,"ShowPanel",!1,"reason",t);_mobIconV2Config.EnableQrGen&&!ni&&_w.QRCode&&u.length&&(r=_qs("#id_mobqrimg"),r&&(i=84,_mobIconV2Config.Type==0||_mobIconV2Config.Type==1?i=74:(_mobIconV2Config.Type==2||_mobIconV2Config.Type==3||_mobIconV2Config.Type==4)&&(i=98),new _w.QRCode(r,{text:u,width:i,height:i,correctLevel:1}),ni=!0));ui();sr();n&&Lib.CssClass.add(n,"active");y=!0}function l(t){y&&(Log.Log(o,f,"HideFlyout",!1,"reason",t),fi(),n&&Lib.CssClass.remove(n,"active"),y=!1,ht&&t.indexOf("Close")>=0&&(vt("".concat(pt).concat(r)),tr("".concat(wt).concat(r))),ht=!1)}function h(n){if(g){var t=_qs("#id_mobbubpos");if(t){Log.Log(o,f,"HideBubble",!1,"reason",n);fi();Lib.CssClass.add(t,"b_hide");g=!1;return}}}function di(t){if(sj_gx&&st.length){var i=sj_gx();i.onreadystatechange=function(){i.readyState==4&&i.status==200&&(gt=!0,n.insertAdjacentHTML("afterend",i.responseText),sb_st(function(){at(t)},200))};i.open("GET",st,!0);i.send()}}function gi(){var i,t,u;er()?(i="/header/mobupsellbub?customtype=".concat(r),t=sj_gx(),t.onreadystatechange=function(){var u,i;d||t.readyState!=4||t.status!=200||_ge(it)||(n.insertAdjacentHTML("beforeend",t.responseText),i=(u=_qs("#id_mobbubpos"))===null||u===void 0?void 0:u.style,_mobIconV2Config.TootipEnd&&_mobIconV2Config.TootipEnd.length&&(i===null||i===void 0?void 0:i.setProperty("--mobicon-bub-end",_mobIconV2Config.TootipEnd)),_mobIconV2Config.TootipArrowEnd&&_mobIconV2Config.TootipArrowEnd.length&&(i===null||i===void 0?void 0:i.setProperty("--mobicon-bub-arr-end",_mobIconV2Config.TootipArrowEnd)),g=!0,vt("".concat(rt).concat(r)),Log.Log(o,f,"ShowBubble"),ui())},t.open("GET",i,!0),t.send()):(u=nt(a("".concat(yt)),vi),u&&sb_st(function(){Lib.CssClass.remove(ut,"b_hide")},550))}function nr(n){return n<=0?Number.MAX_VALUE:Math.floor((Date.now()-n)/864e5)}function nt(n,t){return n<=0||nr(n)>t}function vt(n){sb_st(function(){var t;(t=_w.localStorage)===null||t===void 0?void 0:t.setItem(n,""+Date.now())},0)}function tr(n,t){t===void 0&&(t=1);var i=a(n)+t;sb_st(function(){var t;(t=_w.localStorage)===null||t===void 0?void 0:t.setItem(n,""+i)},0)}function ir(n){var i,r,t;try{return v==null&&(r=_w.location.href,t=r.split("?"),t&&t.length>1&&(v=new URLSearchParams(t[1]))),(i=v===null||v===void 0?void 0:v.get(n))===null||i===void 0?void 0:i.trim()}catch(u){return null}}function rr(){_mobIconV2Config.Type==4&&(r=2,nt(a("".concat(rt).concat(2)),wi)&&(r=3));switch(_mobIconV2Config.Type){case 0:u=c(_mobIconV2Config.IsCN?i.Mini_Rewards_CN:i.Mini_Rewards,!0);break;case 1:u=c(_mobIconV2Config.IsCN?i.Mini_Private_CN:i.Mini_Private,!0);break;case 2:u=c(_mobIconV2Config.IsCN?i.Large_Rewards_CN:i.Large_Rewards,!0);break;case 3:u=c(_mobIconV2Config.IsCN?i.Large_Private_CN:i.Large_Private,!0);break;case 4:u=c(_mobIconV2Config.IsCN?i.Large_Rolling_CN:i.Large_Rolling,!0);break;case 5:u=c(i.OneM_T1);break;default:u=c(_mobIconV2Config.IsCN?i.Default_CN:i.Default,!0)}st="/header/mobupsellfly?customtype=".concat(r)}function c(n,t){var r,i;return t===void 0&&(t=!1),f=n,r="".concat(_mobIconV2Config.LPPre,"at=").concat(n),t&&(i=ir("q"),i||(i=_mobIconV2Config.FallbackQuery),i&&(r+="&q=".concat(i))),r}function a(n,t){var r,i;return(t===void 0&&(t=0),i=(r=_w.localStorage)===null||r===void 0?void 0:r.getItem(n),i&&i.length)?parseInt(i):t}function ur(){dt=!0;rr();ri("Initialize");gi();or();fr()&&(at("AutoOpen"),ht=!0)}function fr(){return _mobIconV2Config.EnableAutoOpen&&!d&&!_ge(it)&&nt(a("".concat(pt).concat(r)),yi)&&a("".concat(wt).concat(r))<pi}function er(){return _mobIconV2Config.EnableTooltip&&!d&&!_ge(it)&&nt(a("".concat(rt).concat(r)),ai)}function ui(){sj_be(_d,"click",s);sj_be(_w,"keydown",ti);p&&sj_be(p,"click",s);w&&sj_be(w,"click",s);b&&sj_be(b,"click",s)}function fi(){sj_ue(_d,"click",s);sj_ue(_d,"keydown",ti);p&&sj_ue(p,"click",s);w&&sj_ue(w,"click",s);b&&sj_ue(b,"click",s);t&&sj_ue(t,"click",oi);t&&sj_ue(t,"keypress",ei);t&&sj_ue(t,"keydown",tt);e&&sj_ue(e,"keydown",tt)}function ei(){n&&n.focus();l("KeypressCloseBtn")}function oi(n){n.stopPropagation();l("ClickCloseBtn")}function or(){sj_be(n,"click",function(n){Log.Log("Click","MobileIconV2","HeaderMobileIcon_Clicked");n===null||n===void 0?void 0:n.stopPropagation();h("ClickMobileIcon");y?l("ClickMobileIcon"):(Log.Log(o,f,hi),at("ClickMobileIcon"),ut&&Lib.CssClass.add(ut,"b_hide"),vt(yt))})}function sr(){t=_ge("id_mobpopclose");e=_ge("id_mobpopcta");var n=_ge("id_mobpopcntr");t&&sj_be(t,"click",oi);e&&sj_be(e,"click",function(n){return ii(n)});n&&sj_be(n,"click",function(n){return ii(n)});t&&sj_be(t,"keypress",ei);t&&sj_be(t,"keydown",tt);e&&sj_be(e,"keydown",tt)}function tt(n){if(n.key==="Tab"){var r=_qs(":focus"),i;r==t?i=e:r==e&&(i=t);i&&(n.preventDefault(),i.focus())}}typeof _mobIconV2Config=="undefined"&&(_mobIconV2Config={Type:6,EnableTooltip:!1,EnableQrGen:!1,EnableAutoOpen:!1,IsCN:!1,LPPre:"https://aka.ms/salp?"});var i={Default:"1fdlr3u9_1flts8sx",Default_CN:"1juey7v1_1jsiqj9z",OneM_T1:"1e4n8naa_1eo6jrog",OneM_T2:"1eichvfu_1e56jkx9",Mini_Rewards:"1ip3w5h0_1iztihn1",Mini_Rewards_CN:"1ice8eec_1ix3hkzz",Mini_Private:"1im4ss90_1io78j7q",Mini_Private_CN:"1ixkx3wx_1i51oyh9",Large_Rewards:"1iarelf0_1iddhem4",Large_Rewards_CN:"1ixm0fs6_1in1vot8",Large_Private:"1ii5f4ns_1ik8xdqj",Large_Private_CN:"1ilwor7a_1ibzkr0a",Large_Rolling:"1ivxs3oe_1isbjhnd",Large_Rolling_CN:"1iba5jco_1ix00f7x"},o="OpalUpsell",si="Show",hi="Click",ci=50,li="#id_h",it="mfo_c_bsic_id",ai=7,vi=7,yi=7,pi=2,wi=7,bi="auth/getToken",yt="MOBILE_ICON_CLICK_DT",rt="SA_BUBBLE_DATETIME_",pt="SA_AO_DIS_DT_",wt="SA_AO_DIS_C_",n=_ge("id_mobile"),ut=_qs("#mob_dot"),p=_qs("#id_l"),w=_qs("#id_rh"),ft=_qs("#id_h"),et=_qs("#sb_form"),ot=_qs("#b_header"),b=_qs("#id_sc"),bt=_ge("b_sh_btn"),kt=0;bt&&(kt=bt.offsetWidth+16);var f="",r=_mobIconV2Config.Type,u="",st="",k="",v=null,dt=!1,d=!1,y=!1,gt=!1,g=!1,ni=!1,ht=!1,t,e;sj_evt.bind("bnp.embed.ready",function(n){var i=n[0],t=n[1];t.tar==li&&(d=!0,h("BnpConflictDetected"),l("BnpConflictDetected"))});sj_evt.bind("hideSydFSC",function(){if(ct()){lt("Overlap");h("Overlap");return}},!0);sj_be(_w,"resize",ki);ct()&&(lt("Overlap"),h("Overlap"));ur()})(MobileIcon||(MobileIcon={}))